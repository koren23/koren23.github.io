<html>
<head>
    <title>bmi</title>
</head>
<body>
    <form id="myForm">
        <input type="number" id="1" placeholder="weight (kg)">
        <br>
        <input type="number" id="2" placeholder="height (cm)">
        <br>
        <input type="number" id="age" placeholder="age">
        <br>
        <input list="gender" id="3" placeholder="gender">
        <br>
        <input list="exercise" id="4" placeholder="exercise?">
        <br>
        <input type="submit" value="Submit">
    </form>
    <datalist id="gender">
        <option value="dude">
        <option value="chick">
    </datalist>
    <datalist id="exercise">
        <option value="Sedentary (little to no exercise)">
        <option value="Lightly active (light exercise or sports 1-3 days per week)">
        <option value="Moderately active (moderate exercise or sports 3-5 days per week)">
        <option value="Very active (hard exercise or sports 6-7 days per week)">
        <option value="Extra active (very hard exercise or a physically demanding job)">
    </datalist>
    <p id="fat"></p>
    <p id="calories"></p>
    <p id="gcalories"></p>
    <p id="lcalories"></p>
    <p id="when-clicked"></p>
</body>
</html>
<style>
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
    }

    body {
        text-align: center;
        background-color:#C2E8C0;
        color:#26547C;
    }
</style>
<script>
    const storedData = localStorage.getItem("bmiData");
    if (storedData) {
        const parsedData = JSON.parse(storedData);
        document.getElementById("1").value = parsedData.weight || "";
        document.getElementById("2").value = parsedData.height || "";
        document.getElementById("age").value = parsedData.age || "";
        document.getElementById("3").value = parsedData.gender || "";
        document.getElementById("4").value = parsedData.exerciseLevel || "";
    }

    document.getElementById("myForm").addEventListener("submit", function(event) {
        event.preventDefault();
        const weight = document.getElementById("1").value;
        const height = document.getElementById("2").value;
        const age = document.getElementById("age").value;
        const gender = document.getElementById("3").value;
        const exerciseLevel = document.getElementById("4").value;
        const errorMessage = document.getElementById("when-clicked");

        if (!weight || !height || !age || !gender || !exerciseLevel) {
            errorMessage.innerHTML = "Please fill in all the fields.";
            return;
        } else {
            errorMessage.innerHTML = "";
        }
        const cm2 = parseFloat(height) * parseFloat(height);
        const m2 = cm2 / 10000;
        const bmi = parseFloat(weight) / m2;
        document.getElementById("fat").innerHTML = "Your BMI is " + bmi.toFixed(2);
        if (bmi > 25) {
            document.getElementById("fat").innerHTML = "fatass";
        } else if (bmi >= 18 && bmi <= 24) {
            document.getElementById("fat").innerHTML = "ur healthy dawg";
        } else {
            document.getElementById("fat").innerHTML = "skinny bitch";
        }
        let bmr = 0;
        if (gender === "dude") {
            bmr = 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age);
        } else if (gender === "chick") {
            bmr = 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age);
        }
        let calorieIntake = 0;
        if (exerciseLevel === "Sedentary (little to no exercise)") {
            calorieIntake = bmr * 1.2;
        } else if (exerciseLevel === "Lightly active (light exercise or sports 1-3 days per week)") {
            calorieIntake = bmr * 1.375;
        } else if (exerciseLevel === "Moderately active (moderate exercise or sports 3-5 days per week)") {
            calorieIntake = bmr * 1.55;
        } else if (exerciseLevel === "Very active (hard exercise or sports 6-7 days per week)") {
            calorieIntake = bmr * 1.725;
        } else if (exerciseLevel === "Extra active (very hard exercise or a physically demanding job)") {
            calorieIntake = bmr * 1.9;
        }

        const calorieDeficit = 7700;
        const calorieLossIntake = calorieIntake - (calorieDeficit / 7);
        const calorieGainIntake = calorieIntake + (calorieDeficit / 7);

        document.getElementById("calories").innerHTML = "Calories needed to maintain weight: " + calorieIntake.toFixed(0);
        document.getElementById("lcalories").innerHTML = "Calories needed for weight loss (1kg per week): " + calorieLossIntake.toFixed(0);
        document.getElementById("gcalories").innerHTML = "Calories needed for weight gain (1kg per week): " + calorieGainIntake.toFixed(0);

        const userData = {
            weight: weight,
            height: height,
            age: age,
            gender: gender,
            exerciseLevel: exerciseLevel
        };
        localStorage.setItem("bmiData", JSON.stringify(userData));
    });
</script>
