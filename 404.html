<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Redirecting...</title>
  <script>
    async function redirect() {
      try {
        const response = await fetch('/redirects.json');
        if (!response.ok) throw new Error('Failed to load redirects');
        const redirects = await response.json();

        const path = window.location.pathname.slice(1).toLowerCase();
        if (redirects[path]) {
          window.location.replace(redirects[path]);
        } else {
          window.location.replace('/index.html');
        }
      } catch (e) {
        console.error(e);
        window.location.replace('/index.html');
      }
    }
    redirect();
  </script>
</head>
<body>
  <p>Checking link and redirecting...</p>
</body>
</html>
